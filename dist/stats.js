(()=>{"use strict";var e={415:(e,t,n)=>{var r=n(196),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,o=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),s=r[0].inst,l=r[1];return o((function(){s.value=n,s.getSnapshot=t,c(s)&&l({inst:s})}),[e,n,t]),i((function(){return c(s)&&l({inst:s}),e((function(){c(s)&&l({inst:s})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},322:(e,t,n)=>{e.exports=n(415)},196:e=>{e.exports=window.React}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(196);const t=window.wp.domReady;var r=n.n(t);const s=window.wp.element,a=e=>{var t;return null!==(t=window.ClimbPress.i18n[e])&&void 0!==t?t:`? ${e} ?`},i=()=>window.ClimbPress.RESTNamespace,o=e=>{var t;return null!==(t=window.ClimbPress.gradingSystems.find((t=>t.id==e)))&&void 0!==t?t:null},u=window.wp.apiFetch;var c=n.n(u),l=n(322);const d=()=>{},p=d(),f=Object,y=e=>e===p,m=e=>"function"==typeof e,g=(e,t)=>({...e,...t}),h=new WeakMap;let v=0;const b=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let s,a;if(f(e)!==e||r||n==RegExp)s=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(s=h.get(e),s)return s;if(s=++v+"~",h.set(e,s),n==Array){for(s="@",a=0;a<e.length;a++)s+=b(e[a])+",";h.set(e,s)}if(n==f){s="#";const t=f.keys(e).sort();for(;!y(a=t.pop());)y(e[a])||(s+=a+":"+b(e[a])+",");h.set(e,s)}}return s},E=new WeakMap,w={},_={},k="undefined",P=typeof window!=k,S=typeof document!=k,x=(e,t)=>{const n=E.get(e);return[()=>!y(t)&&e.get(t)||w,r=>{if(!y(t)){const s=e.get(t);t in _||(_[t]=s),n[5](t,g(s,r),s||w)}},n[6],()=>!y(t)&&t in _?_[t]:!y(t)&&e.get(t)||w]};let O=!0;const[R,j]=P&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[d,d],I={isOnline:()=>O,isVisible:()=>{const e=S&&document.visibilityState;return y(e)||"hidden"!==e}},L={initFocus:e=>(S&&document.addEventListener("visibilitychange",e),R("focus",e),()=>{S&&document.removeEventListener("visibilitychange",e),j("focus",e)}),initReconnect:e=>{const t=()=>{O=!0,e()},n=()=>{O=!1};return R("online",t),R("offline",n),()=>{j("online",t),j("offline",n)}}},T=!e.useId,C=!P||"Deno"in window,D=C?e.useEffect:e.useLayoutEffect,V="undefined"!=typeof navigator&&navigator.connection,N=!C&&V&&(["slow-2g","2g"].includes(V.effectiveType)||V.saveData),A=e=>{if(m(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?b(e):"",t]};let $=0;const M=()=>++$;async function W(...e){const[t,n,r,s]=e,a=g({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{});let i=a.populateCache;const o=a.rollbackOnError;let u=a.optimisticData;const c=a.throwOnError;if(m(n)){const e=n,r=[],s=t.keys();for(const n of s)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&r.push(n);return Promise.all(r.map(l))}return l(n);async function l(n){const[s]=A(n);if(!s)return;const[l,d]=x(t,s),[f,g,h,v]=E.get(t),b=()=>{const e=f[s];return(m(a.revalidate)?a.revalidate(l().data,n):!1!==a.revalidate)&&(delete h[s],delete v[s],e&&e[0])?e[0](2).then((()=>l().data)):l().data};if(e.length<3)return b();let w,_=r;const k=M();g[s]=[k,0];const P=!y(u),S=l(),O=S.data,R=S._c,j=y(R)?O:R;if(P&&(u=m(u)?u(j,O):u,d({data:u,_c:j})),m(_))try{_=_(j)}catch(e){w=e}if(_&&m(_.then)){if(_=await _.catch((e=>{w=e})),k!==g[s][0]){if(w)throw w;return _}w&&P&&(e=>"function"==typeof o?o(e):!1!==o)(w)&&(i=!0,d({data:j,_c:p}))}if(i&&!w)if(m(i)){const e=i(_,j);d({data:e,error:p,_c:p})}else d({data:_,error:p,_c:p});if(g[s][1]=M(),Promise.resolve(b()).then((()=>{d({_c:p})})),!w)return _;if(c)throw w}}const F=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},q=(e,t)=>{if(!E.has(e)){const n=g(L,t),r={},s=W.bind(p,e);let a=d;const i={},o=(e,t)=>{const n=i[e]||[];return i[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},u=(t,n,r)=>{e.set(t,n);const s=i[t];if(s)for(const e of s)e(n,r)},c=()=>{if(!E.has(e)&&(E.set(e,[r,{},{},{},s,u,o]),!C)){const t=n.initFocus(setTimeout.bind(p,F.bind(p,r,0))),s=n.initReconnect(setTimeout.bind(p,F.bind(p,r,1)));a=()=>{t&&t(),s&&s(),E.delete(e)}}};return c(),[e,s,c,a]}return[e,E.get(e)[4]]},[B,G]=q(new Map),U=g({onLoadingSlow:d,onSuccess:d,onError:d,onErrorRetry:(e,__,t,n,r)=>{const s=t.errorRetryCount,a=r.retryCount,i=~~((Math.random()+.5)*(1<<(a<8?a:8)))*t.errorRetryInterval;!y(s)&&a>s||setTimeout(n,i,r)},onDiscarded:d,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:N?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:N?5e3:3e3,compare:(e,t)=>b(e)==b(t),isPaused:()=>!1,cache:B,mutate:G,fallback:{}},I),H=(e,t)=>{const n=g(e,t);if(t){const{use:r,fallback:s}=e,{use:a,fallback:i}=t;r&&a&&(n.use=r.concat(a)),s&&i&&(n.fallback=g(s,i))}return n},J=(0,e.createContext)({}),X=P&&window.__SWR_DEVTOOLS_USE__,z=X?window.__SWR_DEVTOOLS_USE__:[],K=z.concat((e=>(t,n,r)=>e(t,n&&((...e)=>{const[r]=A(t),[,,,s]=E.get(B);if(r.startsWith("$inf$"))return n(...e);const a=s[r];return y(a)?n(...e):(delete s[r],a)}),r)));X&&(window.__SWR_DEVTOOLS_REACT__=e);const Q=e.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),Y={dedupe:!0},Z=(f.defineProperty((t=>{const{value:n}=t,r=(0,e.useContext)(J),s=m(n),a=(0,e.useMemo)((()=>s?n(r):n),[s,r,n]),i=(0,e.useMemo)((()=>s?a:H(r,a)),[s,r,a]),o=a&&a.provider,u=(0,e.useRef)(p);o&&!u.current&&(u.current=q(o(i.cache||B),a));const c=u.current;return c&&(i.cache=c[0],i.mutate=c[1]),D((()=>{if(c)return c[2]&&c[2](),c[3]}),[]),(0,e.createElement)(J.Provider,g(t,{value:i}))}),"defaultValue",{value:U}),ee=(t,n,r)=>{const{cache:s,compare:a,suspense:i,fallbackData:o,revalidateOnMount:u,revalidateIfStale:c,refreshInterval:d,refreshWhenHidden:f,refreshWhenOffline:h,keepPreviousData:v}=r,[b,w,_,S]=E.get(s),[O,R]=A(t),j=(0,e.useRef)(!1),I=(0,e.useRef)(!1),L=(0,e.useRef)(O),V=(0,e.useRef)(n),N=(0,e.useRef)(r),$=()=>N.current,F=()=>$().isVisible()&&$().isOnline(),[q,B,G,U]=x(s,O),H=(0,e.useRef)({}).current,J=y(o)?r.fallback[O]:o,X=(e,t)=>{for(const n in H){const r=n;if("data"===r){if(!a(e[r],t[r])){if(!y(e[r]))return!1;if(!a(ae,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},z=(0,e.useMemo)((()=>{const e=!!O&&!!n&&(y(u)?!$().isPaused()&&!i&&(!!y(c)||c):u),t=t=>{const n=g(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=q(),s=U(),a=t(r),o=r===s?a:t(s);let l=a;return[()=>{const e=t(q());return X(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>o]}),[s,O]),K=(0,l.useSyncExternalStore)((0,e.useCallback)((e=>G(O,((t,n)=>{X(n,t)||e()}))),[s,O]),z[0],z[1]),Z=!j.current,ee=b[O]&&b[O].length>0,te=K.data,ne=y(te)?J:te,re=K.error,se=(0,e.useRef)(ne),ae=v?y(te)?se.current:te:ne,ie=!(ee&&!y(re))&&(Z&&!y(u)?u:!$().isPaused()&&(i?!y(ne)&&c:y(ne)||c)),oe=!!(O&&n&&Z&&ie),ue=y(K.isValidating)?oe:K.isValidating,ce=y(K.isLoading)?oe:K.isLoading,le=(0,e.useCallback)((async e=>{const t=V.current;if(!O||!t||I.current||$().isPaused())return!1;let n,s,i=!0;const o=e||{},u=!_[O]||!o.dedupe,c=()=>T?!I.current&&O===L.current&&j.current:O===L.current,l={isValidating:!1,isLoading:!1},d=()=>{B(l)},f=()=>{const e=_[O];e&&e[1]===s&&delete _[O]},g={isValidating:!0};y(q().data)&&(g.isLoading=!0);try{if(u&&(B(g),r.loadingTimeout&&y(q().data)&&setTimeout((()=>{i&&c()&&$().onLoadingSlow(O,r)}),r.loadingTimeout),_[O]=[t(R),M()]),[n,s]=_[O],n=await n,u&&setTimeout(f,r.dedupingInterval),!_[O]||_[O][1]!==s)return u&&c()&&$().onDiscarded(O),!1;l.error=p;const e=w[O];if(!y(e)&&(s<=e[0]||s<=e[1]||0===e[1]))return d(),u&&c()&&$().onDiscarded(O),!1;const o=q().data;l.data=a(o,n)?o:n,u&&c()&&$().onSuccess(n,O,r)}catch(e){f();const t=$(),{shouldRetryOnError:n}=t;t.isPaused()||(l.error=e,u&&c()&&(t.onError(e,O,t),(!0===n||m(n)&&n(e))&&($().revalidateOnFocus&&$().revalidateOnReconnect&&!F()||t.onErrorRetry(e,O,t,(e=>{const t=b[O];t&&t[0]&&t[0](3,e)}),{retryCount:(o.retryCount||0)+1,dedupe:!0}))))}return i=!1,d(),!0}),[O,s]),de=(0,e.useCallback)(((...e)=>W(s,L.current,...e)),[]);if(D((()=>{V.current=n,N.current=r,y(te)||(se.current=te)})),D((()=>{if(!O)return;const e=le.bind(p,Y);let t=0;const n=((e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}})(O,b,((n,r={})=>{if(0==n){const n=Date.now();$().revalidateOnFocus&&n>t&&F()&&(t=n+$().focusThrottleInterval,e())}else if(1==n)$().revalidateOnReconnect&&F()&&e();else{if(2==n)return le();if(3==n)return le(r)}}));return I.current=!1,L.current=O,j.current=!0,B({_k:R}),ie&&(y(ne)||C?e():(r=e,P&&typeof window.requestAnimationFrame!=k?window.requestAnimationFrame(r):setTimeout(r,1))),()=>{I.current=!0,n()};var r}),[O]),D((()=>{let e;function t(){const t=m(d)?d(q().data):d;t&&-1!==e&&(e=setTimeout(n,t))}function n(){q().error||!f&&!$().isVisible()||!h&&!$().isOnline()?t():le(Y).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[d,f,h,O]),(0,e.useDebugValue)(ae),i&&y(ne)&&O){if(!T&&C)throw new Error("Fallback data is required when using suspense in SSR.");V.current=n,N.current=r,I.current=!1;const e=S[O];if(!y(e)){const t=de(e);Q(t)}if(!y(re))throw re;{const e=le(Y);y(ae)||(e.status="fulfilled",e.value=!0),Q(e)}}return{mutate:de,get data(){return H.data=!0,ae},get error(){return H.error=!0,re},get isValidating(){return H.isValidating=!0,ue},get isLoading(){return H.isLoading=!0,ce}}},function(...t){const n=g(U,(0,e.useContext)(J)),[r,s,a]=(e=>m(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}])(t),i=H(n,a);let o=ee;const{use:u}=i,c=(u||[]).concat(K);for(let e=c.length;e--;)o=c[e](o);return o(r,s||i.fetcher||null,i)});var ee,te,ne,re,se=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function ae(e,t){return Array.isArray(e)?[void 0,e]:[e,t]}function ie(e){return{lang:e?.lang??undefined,message:e?.message,abortEarly:e?.abortEarly??undefined,abortPipeEarly:e?.abortPipeEarly??undefined,skipPipe:e?.skipPipe??undefined}}function oe(e,t,n,r,s){const a=t.message??function(e,t){return re?.get(e)?.get(t)}(n,s.lang)??(e?(i=s.lang,ne?.get(i)):null)??r?.message??function(e){return te?.get(e)}(s.lang)??s.message;var i;return"function"==typeof a?a(s):a}function ue(e,t,n){return{typed:e,output:t,issues:n}}function ce(e){let t=typeof e;return"object"===t&&(t=e?Object.getPrototypeOf(e).constructor.name:"null"),"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:t}function le(e,t,n){const r=n.received??ce(n.input),s={reason:e.type,context:n.context.type,expected:n.context.expects,received:r,message:`Invalid ${n.label}: ${n.context.expects?`Expected ${n.context.expects} but r`:"R"}eceived ${r}`,input:n.input,requirement:n.context.requirement,path:n.path,lang:t?.lang,abortEarly:t?.abortEarly,abortPipeEarly:t?.abortPipeEarly,skipPipe:t?.skipPipe};return s.message=oe(!1,n.context,n.reference,t,s),s}function de(e,t,n,r){if(e.pipe&&!n?.skipPipe)for(const s of e.pipe){const a=s._parse(t);if(a.issues){for(const t of a.issues){const s=le(e,n,t);r?r.push(s):r=[s]}if(n?.abortEarly||n?.abortPipeEarly)break}else t=a.output}return ue(!0,t,r)}function pe(e,t,n,r,s){const a=ce(n),i=s?.expected??e.expects,o={reason:s?.reason??"type",context:e.type,expected:i,received:a,message:`Invalid type: Expected ${i} but received ${a}`,input:n,path:s?.path,issues:s?.issues,lang:r?.lang,abortEarly:r?.abortEarly,abortPipeEarly:r?.abortPipeEarly,skipPipe:r?.skipPipe};return o.message=oe(!0,e,t,r,o),{typed:!1,output:n,issues:[o]}}function fe(e,t){return{type:"literal",expects:ce(e),async:!1,literal:e,message:t,_parse(e,t){return e===this.literal?ue(!0,e):pe(this,fe,e,t)}}}function ye(e,t){const[n,r]=ae(e,t);return{type:"number",expects:"number",async:!1,message:n,pipe:r,_parse(e,t){return"number"!=typeof e||isNaN(e)?pe(this,ye,e,t):de(this,e,t)}}}function me(e,t){const[n,r]=ae(e,t);return{type:"string",expects:"string",async:!1,message:n,pipe:r,_parse(e,t){return"string"==typeof e?de(this,e,t):pe(this,me,e,t)}}}Symbol("brand");var ge=["__proto__","prototype","constructor"];function he(e){let t;if(e)for(const n of e)if(t)for(const e of n.issues)t.push(e);else t=n.issues;return t}function ve(e){return{type:"integer",expects:null,async:!1,message:e,requirement:Number.isInteger,_parse(e){return this.requirement(e)?{output:e}:function(e,t,n,r,s){return{issues:[{context:e,reference:t,input:n,label:r,received:s}]}}(this,ve,e,"integer")}}}const be=function e(t,n,r,s){const[a,i,o]=function(e,t,n){if(!e||"object"==typeof e&&!Array.isArray(e)){const[r,s]=ae(t,n);return[e,r,s]}const[r,s]=ae(e,t);return[void 0,r,s]}(n,r,s);let u;return{type:"object",expects:"Object",async:!1,entries:t,rest:a,message:i,pipe:o,_parse(t,n){if(t&&"object"==typeof t){u=u??Object.entries(this.entries);let e,r=!0;const s={};for(const[a,i]of u){const o=t[a],u=i._parse(o,n);if(u.issues){const s={type:"object",origin:"value",input:t,key:a,value:o};for(const t of u.issues)t.path?t.path.unshift(s):t.path=[s],e?.push(t);if(e||(e=u.issues),n?.abortEarly){r=!1;break}}u.typed||(r=!1),(void 0!==u.output||a in t)&&(s[a]=u.output)}if(this.rest&&(!n?.abortEarly||!e))for(const a in t)if(!(a in this.entries)){const i=t[a],o=this.rest._parse(i,n);if(o.issues){const s={type:"object",origin:"value",input:t,key:a,value:i};for(const t of o.issues)t.path?t.path.unshift(s):t.path=[s],e?.push(t);if(e||(e=o.issues),n?.abortEarly){r=!1;break}}o.typed||(r=!1),s[a]=o.output}return r?de(this,s,n,e):ue(!1,s,e)}return pe(this,e,t,n)}}}({id:ye([ve()]),name:me(),status:function e(t,n,r){const[s,a]=ae(n,r);return{type:"union",expects:[...new Set(t.map((e=>e.expects)))].join(" | "),async:!1,options:t,message:s,pipe:a,_parse(t,n){let r,s,a;for(const e of this.options){const i=e._parse(t,n);if(i.typed){if(!i.issues){r=i;break}a?a.push(i):a=[i]}else s?s.push(i):s=[i]}if(r)return de(this,r.output,n);if(a?.length){const r=a[0];return de(this,r.output,n,1===a.length?r.issues:pe(this,e,t,n,{reason:"union",issues:he(a)}).issues)}return 1===s?.length?s[0]:pe(this,e,t,n,{issues:he(s)})}}}([fe("screwed-on"),fe("screwed-off")]),created:me(),difficulty:ye([ve()]),gradingSystem:me(),metas:function e(t,n,r,s){const[a,i,o,u]=function(e,t,n,r){if("object"==typeof t&&!Array.isArray(t)){const[s,a]=ae(n,r);return[e,t,s,a]}const[s,a]=ae(t,n);return[me(),e,s,a]}(t,n,r,s);return{type:"record",expects:"Object",async:!1,key:a,value:i,message:o,pipe:u,_parse(t,n){if(t&&"object"==typeof t){let e,r=!0;const s={};for(const[a,i]of Object.entries(t))if(!ge.includes(a)){let o;const u=this.key._parse(a,n);if(u.issues){o={type:"record",origin:"key",input:t,key:a,value:i};for(const t of u.issues)t.path=[o],e?.push(t);if(e||(e=u.issues),n?.abortEarly){r=!1;break}}const c=this.value._parse(i,n);if(c.issues){o=o??{type:"record",origin:"value",input:t,key:a,value:i};for(const t of c.issues)t.path?t.path.unshift(o):t.path=[o],e?.push(t);if(e||(e=c.issues),n?.abortEarly){r=!1;break}}u.typed&&c.typed||(r=!1),u.typed&&(s[u.output]=c.output)}return r?de(this,s,n,e):ue(!1,s,e)}return pe(this,e,t,n)}}}(me()),communityVotesCount:ye(),communityAverageDifficulty:ye()}),Ee=function e(t,n,r){const[s,a]=ae(n,r);return{type:"array",expects:"Array",async:!1,item:t,message:s,pipe:a,_parse(t,n){if(Array.isArray(t)){let e,r=!0;const s=[];for(let a=0;a<t.length;a++){const i=t[a],o=this.item._parse(i,n);if(o.issues){const s={type:"array",origin:"value",input:t,key:a,value:i};for(const t of o.issues)t.path?t.path.unshift(s):t.path=[s],e?.push(t);if(e||(e=o.issues),n?.abortEarly){r=!1;break}}o.typed||(r=!1),s.push(o.output)}return r?de(this,s,n,e):ue(!1,s,e)}return pe(this,e,t,n)}}}(be),we={name:"route_name",status:"route_status",year:"created",gradingSystem:"grading_system"},_e=(e,t)=>{const n={};return t.forEach((t=>{var r;const s=t[e];n[s]=(null!==(r=n[s])&&void 0!==r?r:0)+1})),Object.keys(n).map((e=>({key:e,value:n[e]})))},ke=(e,t)=>{const n={};return t.forEach((t=>{var r,s;const i=null!==(r=t.metas[e])&&void 0!==r?r:a("- no indication -");n[i]=(null!==(s=n[i])&&void 0!==s?s:0)+1})),Object.keys(n).map((e=>({key:e,value:n[e]})))},Pe=({items:t})=>{const n=t.reduce(((e,t)=>t.count+e),0);return(0,e.createElement)("ul",null,t.map((t=>{const r=t.count/n*100;return(0,e.createElement)("li",{key:t.label},(0,e.createElement)("div",{className:"label"},t.label),(0,e.createElement)("div",{className:"chart"},(0,e.createElement)("div",{className:"bar",style:{width:r+"%"}})),(0,e.createElement)("div",{className:"count"},t.count))})))},Se=()=>{const{routes:t}=(e=>{const[t,n]=(0,s.useState)(1),[r,a]=(0,s.useState)({totalItems:0,totalPages:0}),{data:o,mutate:u,isLoading:l}=Z(i()+`/routes?${(e=>{const t=new URLSearchParams;var n;return e.name&&t.append("name",e.name),e.status&&t.append("status",e.status),e.year&&t.append("year",String(e.year)),e.difficulty&&t.append("status",e.difficulty),e.gradingSystem&&t.append("grading_system",e.gradingSystem),e.orderBy&&t.append("order_by",null!==(n=we?.[e.orderBy])&&void 0!==n?n:e.orderBy),e.orderDirection&&t.append("order_direction",e.orderDirection),e.page&&t.append("page",String(e.page)),e.perPage&&t.append("per_page",String(e.perPage)),e.metas&&Object.entries(e.metas).forEach((([e,n])=>{t.append(`metas[${e}]`,n)})),t})({...e,page:t})}`,(e=>c()({path:e,parse:!1}).then((e=>{var t,r;const s=e,i=parseInt(null!==(t=s.headers.get("X-WP-TotalPages"))&&void 0!==t?t:"0"),o=parseInt(null!==(r=s.headers.get("X-WP-Total"))&&void 0!==r?r:"0");return n((e=>e<=i?e:1)),a({totalItems:isNaN(o)?0:o,totalPages:isNaN(i)?0:i}),s.json()})).then((e=>{const t=function(e,t,n){const r=e._parse(t,ie(void 0));return{typed:r.typed,success:!r.issues,output:r.output,issues:r.issues}}(Ee,e);return t.success?t.output:[]}))),{keepPreviousData:!0});return{isLoading:l,routes:null!=o?o:[],totalPages:r.totalPages,totalItems:r.totalItems,page:t,nextPage(){t<r.totalPages&&n((e=>e+1))},prevPage(){t>1&&n((e=>e-1))},gotoPage(e){e<1||e>r.totalPages||n(e)},lastPage(){n(r.totalPages)},firstPage(){n(1)},update:e=>{c()({path:i()+"/routes/"+e.id,method:"PATCH",data:{name:e.name,status:e.status,difficulty:e.difficulty,grading_system:e.gradingSystem,created:e.created,metas:e.metas}}).finally((()=>{const t=o?.map((t=>({...t.id==e.id?e:t})));return u(null!=t?t:[])}))},add:e=>{c()({path:i()+"/routes",method:"POST",data:{name:e.name,status:e.status,difficulty:e.difficulty,grading_system:e.gradingSystem,created:e.created,metas:e.metas}}).then((e=>function(e,t,n){const r=e._parse(t,ie(void 0));if(r.issues)throw new se(r.issues);return r.output}(be,e))).then((e=>u([e,...null!=o?o:[]])))},remove:e=>{c()({path:i()+"/routes/"+e,method:"DELETE"}).then((()=>{var t;return u(null!==(t=o?.filter((t=>t.id!=e)))&&void 0!==t?t:[])}))}}})("screwed-on"),n=o(window.ClimbPress.defaultGradingSystemId),r=window.ClimbPress.routeMetaStructure,u=(0,s.useMemo)((()=>r.map((e=>({key:e.key,label:e.label,routes:ke(e.key,t)})))),[r,t]),l=(0,s.useMemo)((()=>_e("gradingSystem",t)),[t]),d=(0,s.useMemo)((()=>_e("difficulty",t).sort(((e,t)=>parseInt(e.key)-parseInt(t.key)))),[t]);return(0,e.createElement)("div",{className:"cp-statistics"},(0,e.createElement)("div",{className:"cards"},l.length>1?(0,e.createElement)("div",{className:"card"},(0,e.createElement)("h2",null,a("Grading-System")),(0,e.createElement)(Pe,{items:l.map((e=>({label:e.key,count:e.value})))})):null,(0,e.createElement)("div",{className:"card"},(0,e.createElement)("h2",null,a("Grades")),(0,e.createElement)(Pe,{items:d.map((e=>({label:((e,t)=>{let n=-1,r=-1;return t.grades.forEach(((t,s)=>{const a=Math.abs(t.difficulty-e);(r<0||r>a)&&(r=a,n=s)})),t.grades[n]})(parseInt(e.key),n).label,count:e.value})))})),u.map((t=>(0,e.createElement)("div",{className:"card",key:t.key},(0,e.createElement)("h2",null,t.label),(0,e.createElement)(Pe,{items:t.routes.map((e=>{var t;return{label:null!==(t=e.key)&&void 0!==t?t:a("- no value -"),count:e.value}}))}))))),(0,e.createElement)("p",null,a("These statistics contain all screwed on routes.")))};r()((()=>{(0,s.render)((0,e.createElement)(Se,null),document.getElementById(window.ClimbPress.rootId))}))})()})();